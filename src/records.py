import numpy as np

surgery_dates = {
    '1_2': '20230720',
    '1_4': '20230704',
    '1_5': '20230627',
    '1_6': '20230630',
    '4_4': '20230804',
    '4_6': '20230804',
    '5_4': '20230807',
    '5_6': '20230807',
    '5_7': '20230805',
    '6_2': '20231019',
    '6_3': '20231016',
    '6_6': '20231016',
    '6_7': '20231016',
    '7_2': '20231019',
    '7_3': '20231027',
    '8_1': '20231126',
    '8_5': '20231126',
    '8_6': '20231126',
}

longterm_segments = {
    '1_5': {
        '20230707': [(0, 20)],
        '20230714': [(0, 20)],
        '20230721': [(0, 20)],
        '20230727': [(0, 20)],
        '20230821': [(0, 20)],
        '20230831': [(10, 30)],
        '20230921': [(10, 30)],
        '20231006': [(0, 20)],
        '20231011': [(0, 20)],
        '20231018': [(0, 15), (25, 30)],
        '20231027': [(10, 30)],
        '20231102': [(0, 20)],
        '20231122': [(0, 20)],
        '20231207': [(0, 20)],
        '20231214': [(5, 20), (25, 30)],
        '20231228': [(6, 15), (16, 18), (21, 30)],
        '20240103': [(0, 20)],
        '20240117': [(10, 30)],
    }
}

blackrock_channel_indices = np.array([ 
    [ 5,  3,  1,  7,  9, 11], 
    [17, 15, 13, 19, 21, 23], 
    [29, 27, 25, 28, 26, 24], 
    [18, 20, 22, 16, 14, 12], 
    [ 6,  8, 10,  4,  2,  0],
])

intan_channel_indices = np.array([
    [24, 23, 22, 27, 26, 25], 
    [ 0, 29, 28,  3,  2,  1], 
    [ 6,  5,  4,  9,  8,  7], 
    [12, 11, 10, 15, 14, 13], 
    [18, 17, 16, 21, 20, 19],
])

n_day_per_month= 30
n_s_per_min = 60
n_ms_per_s = 1000

window_ms, bin_ms = 100, 1.5
isi_threshold_ms = 1.5

memory_limit = '20G'
min_recording_duration = 10

sorter_parameters = {
    'detect_sign': -1,
    'adjacency_radius': 120, 
    'freq_min': 300, 
    'freq_max': 3000,
    'filter': True,
    'whiten': True,  
    'clip_size': 50,
    'detect_threshold': 4,
    'detect_interval': 3, # 0.3ms 
    'tempdir': 'sorter_tmp',
}

ms_before, ms_after = 1, 2